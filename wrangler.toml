# ⚠️ ⚠️ ⚠️ BLOCCO WORKERS - NON MODIFICARE! ⚠️ ⚠️ ⚠️
#
# QUESTO PROGETTO USA ESCLUSIVAMENTE CLOUDFLARE PAGES
# 
# ❌ NON ESEGUIRE MAI: wrangler deploy
# ❌ NON ESEGUIRE MAI: wrangler publish
# ❌ NON CREARE Workers manualmente
#
# ✅ USA SOLO: git push origin main
# ✅ Deploy automatico: GitHub → Cloudflare Pages
# ✅ URL UFFICIALE: https://telemedcare-v12.pages.dev/
#
# Se qualcuno esegue "wrangler deploy" per errore,
# questo file è configurato per NON creare Workers funzionanti
# (nome diverso dal progetto reale, nessun main script)

# Configurazione Cloudflare Pages (NON Workers!)
name = "telemedcare-v12-pages"
compatibility_date = "2025-10-06"

# ⚠️ NOTA: NO "main" parameter → Blocca deploy Workers
# Se ci fosse: main = "dist/_worker.js" → creerebbe Workers!
# Lasciando vuoto, wrangler deploy fallisce o crea Workers vuoti

# Environment Variables (non-sensitive)
[vars]
EMAIL_FROM = "info@telemedcare.it"
EMAIL_TO_INFO = "info@telemedcare.it"

# ============================================================================
# D1 DATABASE BINDINGS
# ============================================================================
# Production: telemedcare-leads (ef89ed07-bf97-47f1-8f4c-c5049b102e57)
# Preview:    telemedcare-leads-preview (128fb147-b114-42d9-8c4d-500d70b8cb43)
#
# Preview usa un database SEPARATO clonato da Production per test isolati
# For local development, use: npm run dev (uses --d1 flag)
# ============================================================================

[[d1_databases]]
binding = "DB"
database_name = "telemedcare-leads"
database_id = "e49ad96c-a4c7-4d3e-b2b9-4f3e8a1c5d7f"

# ============================================================================
# ENVIRONMENT-SPECIFIC CONFIGURATION
# ============================================================================
# Production: Database originale telemedcare-leads
# Preview: Database clonato telemedcare-leads-preview (TEST ISOLATO)
# Secrets (API keys) must be configured in Cloudflare Pages Dashboard

[env.production]
name = "telemedcare-v12"

[env.production.vars]
ENVIRONMENT = "production"

[[env.production.d1_databases]]
binding = "DB"
database_name = "telemedcare-leads"
database_id = "e49ad96c-a4c7-4d3e-b2b9-4f3e8a1c5d7f"

[env.preview]
name = "telemedcare-v12-preview"

[env.preview.vars]
ENVIRONMENT = "preview"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "telemedcare-leads-preview"
database_id = "128fb147-b114-42d9-8c4d-500d70b8cb43"
